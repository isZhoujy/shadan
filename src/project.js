window.__require = function e(t, o, r) { function l(i, n) { if (!o[i]) { if (!t[i]) { var u = i.split("/"); if (u = u[u.length - 1], !t[u]) { var s = "function" == typeof __require && __require; if (!n && s) return s(u, !0); if (c) return c(u, !0); throw new Error("Cannot find module '" + i + "'") } } var a = o[i] = { exports: {} }; t[i][0].call(a.exports, function (e) { return l(t[i][1][e] || e) }, a, a.exports, e, t, o, r) } return o[i].exports } for (var c = "function" == typeof __require && __require, i = 0; i < r.length; i++)l(r[i]); return l }({ bulletBase: [function (e, t, o) { "use strict"; cc._RF.push(t, "bff645Q53hHG6uf1Qxgp7ng", "bulletBase"), Object.defineProperty(o, "__esModule", { value: !0 }); var r = cc._decorator, l = r.ccclass, c = (r.property, function (e) { function t() { var t = null !== e && e.apply(this, arguments) || this; return t._moveDir = new cc.Vec2(0, 0), t._moveSpeed = 0, t.tag = void 0, t.bulletFactory = void 0, t } return __extends(t, e), Object.defineProperty(t.prototype, "moveDir", { get: function () { return this._moveDir }, set: function (e) { this._moveDir.x = e.x, this._moveDir.y = e.y }, enumerable: !0, configurable: !0 }), Object.defineProperty(t.prototype, "moveSpeed", { get: function () { return this._moveSpeed }, set: function (e) { e < 0 || (this._moveSpeed = e) }, enumerable: !0, configurable: !0 }), t.prototype.reuse = function (e, t, o, r) { this.bulletFactory = e, this.moveSpeed = o, this.tag = r, this.moveDir = t }, t.prototype.unuse = function () { }, t.prototype.onCollisionEnter = function (e, t) { }, t.prototype.update = function (e) { 0 !== this.moveSpeed && (0 !== this.moveDir.x && (this.node.x += this.moveDir.x * this.moveSpeed * e), 0 !== this.moveDir.y && (this.node.y += this.moveDir.y * this.moveSpeed * e), (Math.abs(this.node.x) > 360 || Math.abs(this.node.y) > 640) && this.bulletFactory.bulletPools[this.tag].put(this.node)) }, t = __decorate([l], t) }(cc.Component)); o.BulletBase = c, cc._RF.pop() }, {}], bulletFactory: [function (e, t, o) { "use strict"; cc._RF.push(t, "07380uikSlEb7kTlYWa/2h3", "bulletFactory"), Object.defineProperty(o, "__esModule", { value: !0 }); var r, l = e("./bullet_0"), c = e("./bullet_1"), i = e("./bullet_2"), n = e("./bullet_3"), u = cc._decorator, s = u.ccclass, a = u.property; (function (e) { e[e.R = 0] = "R", e[e.M = 1] = "M", e[e.F = 2] = "F", e[e.B = 3] = "B" })(r = o.BulletType || (o.BulletType = {})); var p = function (e) { function t() { var t = null !== e && e.apply(this, arguments) || this; return t.bulletPrefab = [], t.bulletPools = [], t } return __extends(t, e), t.prototype.onLoad = function () { this.bulletPools[r.R] = new cc.NodePool(l.Bullet_0), this.bulletPools[r.M] = new cc.NodePool(c.Bullet_1), this.bulletPools[r.F] = new cc.NodePool(i.Bullet_2), this.bulletPools[r.B] = new cc.NodePool(n.Bullet_3), this.putBulletInPool(r.R, 300), this.putBulletInPool(r.M, 200), this.putBulletInPool(r.F, 100), this.putBulletInPool(r.B, 50) }, t.prototype.putBulletInPool = function (e, t) { for (var o = 0; o < t; o++)this.bulletPools[e].put(cc.instantiate(this.bulletPrefab[e])) }, t.prototype.createBullet = function (e, t, o) { var r; return this.bulletPools[e].size() <= 0 && this.bulletPools[e].put(cc.instantiate(this.bulletPrefab[e])), r = this.bulletPools[e].get(this, t, o, e), this.node.addChild(r), r }, __decorate([a({ type: [cc.Prefab], tooltip: "\u5b50\u5f39\u9884\u5236\u4f53" })], t.prototype, "bulletPrefab", void 0), t = __decorate([s], t) }(cc.Component); o.default = p, cc._RF.pop() }, { "./bullet_0": "bullet_0", "./bullet_1": "bullet_1", "./bullet_2": "bullet_2", "./bullet_3": "bullet_3" }], bullet_0: [function (e, t, o) { "use strict"; cc._RF.push(t, "2fd46PBiUdIc6ji0RsIzHl3", "bullet_0"), Object.defineProperty(o, "__esModule", { value: !0 }); var r = e("./bulletBase"), l = cc._decorator, c = l.ccclass, i = (l.property, function (e) { function t() { return null !== e && e.apply(this, arguments) || this } return __extends(t, e), t = __decorate([c], t) }(r.BulletBase)); o.Bullet_0 = i, cc._RF.pop() }, { "./bulletBase": "bulletBase" }], bullet_1: [function (e, t, o) { "use strict"; cc._RF.push(t, "abf70K7oktPNL/9tXR78dt6", "bullet_1"), Object.defineProperty(o, "__esModule", { value: !0 }); var r = e("./bulletBase"), l = cc._decorator, c = l.ccclass, i = (l.property, function (e) { function t() { return null !== e && e.apply(this, arguments) || this } return __extends(t, e), t = __decorate([c], t) }(r.BulletBase)); o.Bullet_1 = i, cc._RF.pop() }, { "./bulletBase": "bulletBase" }], bullet_2: [function (e, t, o) { "use strict"; cc._RF.push(t, "4b3e97Lub9JQK2k96ZfczJr", "bullet_2"), Object.defineProperty(o, "__esModule", { value: !0 }); var r = e("./bulletBase"), l = cc._decorator, c = l.ccclass, i = (l.property, function (e) { function t() { return null !== e && e.apply(this, arguments) || this } return __extends(t, e), t.prototype.update = function (t) { e.prototype.update.call(this, t), this.node.angle += 50 * t }, t = __decorate([c], t) }(r.BulletBase)); o.Bullet_2 = i, cc._RF.pop() }, { "./bulletBase": "bulletBase" }], bullet_3: [function (e, t, o) { "use strict"; cc._RF.push(t, "05acdCbX+BGVYm8DF4lebeq", "bullet_3"), Object.defineProperty(o, "__esModule", { value: !0 }); var r = e("./bulletBase"), l = cc._decorator, c = l.ccclass, i = (l.property, function (e) { function t() { var t = null !== e && e.apply(this, arguments) || this; return t.scaleDir = 1, t } return __extends(t, e), t.prototype.update = function (t) { e.prototype.update.call(this, t), this.node.scaleX > 1.3 ? this.scaleDir = -1 : this.node.scaleX < 1 && (this.scaleDir = 1), this.node.scale += 5 * this.scaleDir * t }, t = __decorate([c], t) }(r.BulletBase)); o.Bullet_3 = i, cc._RF.pop() }, { "./bulletBase": "bulletBase" }], colliderPlayer: [function (e, t, o) { "use strict"; cc._RF.push(t, "446b9RzJvtMIII1w6i++vno", "colliderPlayer"), Object.defineProperty(o, "__esModule", { value: !0 }); var r = cc._decorator, l = r.ccclass, c = (r.property, function (e) { function t() { return null !== e && e.apply(this, arguments) || this } return __extends(t, e), t.prototype.onLoad = function () { cc.director.getCollisionManager().enabled = !0 }, t.prototype.onCollisionEnter = function (e, t) { cc.audioEngine.stopMusic(), cc.director.loadScene("over") }, t = __decorate([l], t) }(cc.Component)); o.default = c, cc._RF.pop() }, {}], moveEnemy: [function (e, t, o) { "use strict"; cc._RF.push(t, "44c16rIXfxIPJYQtkNeln29", "moveEnemy"), Object.defineProperty(o, "__esModule", { value: !0 }); var r = e("../../util"), l = cc._decorator, c = l.ccclass, i = (l.property, function (e) { function t() { var t = null !== e && e.apply(this, arguments) || this; return t.dir = new cc.Vec2(0, 0), t.speed = 200, t.timerEnd = 0, t } return __extends(t, e), t.prototype.start = function () { this.schedule(this.randomDir, 5, cc.macro.REPEAT_FOREVER, 4) }, t.prototype.randomDir = function () { var e = r.Util.randomDir(0, 360); this.dir.x = e.x, this.dir.y = e.y }, t.prototype.update = function (e) { if (this.timerEnd += e, this.timerEnd >= 300) return window.confirm("\u505a\u6211\u5973\u670b\u53cb\u597d\u4e48") || window.alert("\u4e0d\u884c\u4e5f\u5f97\u884c"), cc.director.loadScene("over2"), void (this.timerEnd = -1e4); 0 !== this.dir.x && (this.node.x += this.speed * this.dir.x * e), 0 !== this.dir.y && (this.node.y += this.speed * this.dir.y * e), this.node.x < -300 && (this.dir.x = this.dir.x > 0 ? this.dir.x : -this.dir.x), this.node.x > 300 && (this.dir.x = this.dir.x < 0 ? this.dir.x : -this.dir.x), this.node.y > 580 && (this.dir.y = this.dir.y < 0 ? this.dir.y : -this.dir.y), this.node.y < 400 && (this.dir.y = this.dir.y > 0 ? this.dir.y : -this.dir.y) }, t = __decorate([c], t) }(cc.Component)); o.default = i, cc._RF.pop() }, { "../../util": "util" }], movePlayer: [function (e, t, o) { "use strict"; cc._RF.push(t, "b9f3eMVcjhEOb2eVFV6A8MJ", "movePlayer"), Object.defineProperty(o, "__esModule", { value: !0 }); var r = cc._decorator, l = r.ccclass, c = r.property, i = function (e) { function t() { var t = null !== e && e.apply(this, arguments) || this; return t.player = void 0, t } return __extends(t, e), t.prototype.start = function () { this.openTouch() }, t.prototype.openTouch = function () { this.node.on(cc.Node.EventType.TOUCH_MOVE, this.onTouchMove, this) }, t.prototype.closeTouch = function () { this.node.off(cc.Node.EventType.TOUCH_MOVE, this.onTouchMove, this) }, t.prototype.onTouchMove = function (e) { var t = e.getDelta(); this.player.x += t.x, this.player.y += t.y }, t.prototype.update = function (e) { this.player.x > 360 && (this.player.x = 360), this.player.x < -360 && (this.player.x = -360), this.player.y > 640 && (this.player.y = 640), this.player.y < -640 && (this.player.y = -640) }, __decorate([c(cc.Node)], t.prototype, "player", void 0), t = __decorate([l], t) }(cc.Component); o.default = i, cc._RF.pop() }, {}], musicManager: [function (e, t, o) { "use strict"; cc._RF.push(t, "75e36+btQZBd6Gt7J5SKB2d", "musicManager"), Object.defineProperty(o, "__esModule", { value: !0 }); var r = cc._decorator, l = r.ccclass, c = r.property, i = function (e) { function t() { var t = null !== e && e.apply(this, arguments) || this; return t.bgm = void 0, t } return __extends(t, e), t.prototype.start = function () { var e = this; this.scheduleOnce(function () { cc.audioEngine.playMusic(e.bgm, !0) }, .5) }, __decorate([c({ type: cc.AudioClip })], t.prototype, "bgm", void 0), t = __decorate([l], t) }(cc.Component); o.default = i, cc._RF.pop() }, {}], overManager: [function (e, t, o) { "use strict"; cc._RF.push(t, "8e8feBC41FEFbZ4JuNzcCcM", "overManager"), Object.defineProperty(o, "__esModule", { value: !0 }); var r = cc._decorator, l = r.ccclass, c = (r.property, function (e) { function t() { return null !== e && e.apply(this, arguments) || this } return __extends(t, e), t.prototype.again = function () { cc.director.loadScene("game") }, t = __decorate([l], t) }(cc.Component)); o.default = c, cc._RF.pop() }, {}], shootManager: [function (e, t, o) { "use strict"; cc._RF.push(t, "09f92RTbttM3Ko/zaVu43he", "shootManager"), Object.defineProperty(o, "__esModule", { value: !0 }); var r = e("../bullet/bulletFactory"), l = e("../../util"), c = cc._decorator, i = c.ccclass, n = c.property, u = function (e) { function t() { var t = null !== e && e.apply(this, arguments) || this; return t.bulletFactory = void 0, t.enemy = void 0, t.typeMBulletAngle = 0, t } return __extends(t, e), t.prototype.start = function () { var e = this; this.schedule(function () { return e.shoot(r.BulletType.R) }, .02, cc.macro.REPEAT_FOREVER, 4), this.schedule(function () { return e.shoot(r.BulletType.M) }, .06, cc.macro.REPEAT_FOREVER, 9), this.schedule(function () { return e.shoot(r.BulletType.F) }, .4, cc.macro.REPEAT_FOREVER, 14), this.schedule(function () { return e.shoot(r.BulletType.R) }, .02, cc.macro.REPEAT_FOREVER, 19), this.schedule(function () { return e.shoot(r.BulletType.B) }, .5, cc.macro.REPEAT_FOREVER, 24), this.schedule(function () { return e.shoot(r.BulletType.M) }, .06, cc.macro.REPEAT_FOREVER, 29), this.schedule(function () { return e.shoot(r.BulletType.R) }, .02, cc.macro.REPEAT_FOREVER, 34), this.schedule(function () { return e.shoot(r.BulletType.F) }, .4, cc.macro.REPEAT_FOREVER, 39) }, t.prototype.shoot = function (e) { if (e === r.BulletType.R) (c = this.bulletFactory.createBullet(r.BulletType.R, l.Util.randomDir(0, 360), 800)).setPosition(this.enemy.x, this.enemy.y); else if (e === r.BulletType.M) { this.typeMBulletAngle += 30, this.typeMBulletAngle >= 360 && (this.typeMBulletAngle = 0); var t = cc.misc.degreesToRadians(this.typeMBulletAngle); (c = this.bulletFactory.createBullet(r.BulletType.M, cc.v2(Math.cos(t), Math.sin(t)), 650)).angle = this.typeMBulletAngle + 90, c.setPosition(this.enemy.x, this.enemy.y) } else if (e === r.BulletType.F) for (var o = 0; o <= 360; o += 30) { t = cc.misc.degreesToRadians(o); (c = this.bulletFactory.createBullet(r.BulletType.F, cc.v2(Math.cos(t), Math.sin(t)), 600)).setPosition(this.enemy.x, this.enemy.y) } else if (e === r.BulletType.B) { var c; (c = this.bulletFactory.createBullet(r.BulletType.B, cc.v2(0, -1), 550)).setPosition(this.enemy.x, this.enemy.y) } }, __decorate([n({ type: r.default })], t.prototype, "bulletFactory", void 0), __decorate([n({ type: cc.Node })], t.prototype, "enemy", void 0), t = __decorate([i], t) }(cc.Component); o.default = u, cc._RF.pop() }, { "../../util": "util", "../bullet/bulletFactory": "bulletFactory" }], showTime: [function (e, t, o) { "use strict"; cc._RF.push(t, "27748HNsMZAVp9/xdiGyun9", "showTime"), Object.defineProperty(o, "__esModule", { value: !0 }); var r = cc._decorator, l = r.ccclass, c = (r.property, function (e) { function t() { var t = null !== e && e.apply(this, arguments) || this; return t.label = void 0, t.time = 3.99, t } return __extends(t, e), t.prototype.onLoad = function () { this.label = this.node.getComponent(cc.Label) }, t.prototype.update = function (e) { if (!(this.time < -1)) { this.time -= e; var t = Math.floor(this.time); this.label.string = t > 0 ? t + "" : 0 === t ? "Go" : "" } }, t = __decorate([l], t) }(cc.Component)); o.default = c, cc._RF.pop() }, {}], util: [function (e, t, o) { "use strict"; cc._RF.push(t, "4b76dIlS9dAjLYofDXCljLd", "util"), Object.defineProperty(o, "__esModule", { value: !0 }); var r = function () { function e() { } return e.log = function () { for (var e = [], t = 0; t < arguments.length; t++)e[t] = arguments[t]; if (this.isDebug) for (var o = 0, r = e; o < r.length; o++) { var l = r[o]; console.log(l) } }, e.randomNumber = function (e, t) { return e + Math.random() * (t - e) }, e.randomDir = function (e, t) { var o = this.randomNumber(e, t), r = cc.misc.degreesToRadians(o); return cc.v2(Math.cos(r), Math.sin(r)) }, e.isDebug = !0, e }(); o.Util = r, cc._RF.pop() }, {}] }, {}, ["moveEnemy", "shootManager", "bulletBase", "bulletFactory", "bullet_0", "bullet_1", "bullet_2", "bullet_3", "musicManager", "colliderPlayer", "movePlayer", "showTime", "overManager", "util"]);