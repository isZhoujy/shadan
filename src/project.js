window.__require=function e(t,o,c){function r(l,n){if(!o[l]){if(!t[l]){var s=l.split("/");if(s=s[s.length-1],!t[s]){var u="function"==typeof __require&&__require;if(!n&&u)return u(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+l+"'")}}var a=o[l]={exports:{}};t[l][0].call(a.exports,function(e){return r(t[l][1][e]||e)},a,a.exports,e,t,o,c)}return o[l].exports}for(var i="function"==typeof __require&&__require,l=0;l<c.length;l++)r(c[l]);return r}({ShaderTime:[function(e,t,o){"use strict";cc._RF.push(t,"4b235V30z5IkpMttCyFvuM9","ShaderTime"),Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,r=c.ccclass,i=c.menu,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._start=0,t._type=0,t.reduce=!1,t.add=!0,t}return __extends(t,e),t.prototype.start=function(){var e=this;this.scheduleOnce(function(){if(cc.isValid(e.node)){var t=e.node.getComponent(cc.Sprite);t||(t=e.node.getComponent(cc.Label)),e._material=t.sharedMaterials[0]}},.5)},t.prototype.setType=function(e){this._type=e},t.prototype.lateUpdate=function(){this.node.active&&this._material&&this._setShaderTime()},t.prototype._setShaderTime=function(){var e=this._start;1==this._type?((e>10||this.reduce)&&(this.reduce=!0,this.add=!1,e=0),(e<=0||1==this.add)&&(this.reduce=!1,this.add=!0,e+=.03)):(e>35535&&(e=0),e+=.02),this._material.effect.setProperty("time",+e.toFixed(2)),this._start=e},t.prototype.onDestroy=function(){this.unscheduleAllCallbacks()},t=__decorate([r,i("\u81ea\u5b9a\u4e49\u7ec4\u4ef6/ShaderTime")],t)}(cc.Component);o.default=l,cc._RF.pop()},{}],bulletBase:[function(e,t,o){"use strict";cc._RF.push(t,"bff645Q53hHG6uf1Qxgp7ng","bulletBase"),Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,r=c.ccclass,i=(c.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._moveDir=new cc.Vec2(0,0),t._moveSpeed=0,t.tag=void 0,t.bulletFactory=void 0,t}return __extends(t,e),Object.defineProperty(t.prototype,"moveDir",{get:function(){return this._moveDir},set:function(e){this._moveDir.x=e.x,this._moveDir.y=e.y},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"moveSpeed",{get:function(){return this._moveSpeed},set:function(e){e<0||(this._moveSpeed=e)},enumerable:!0,configurable:!0}),t.prototype.reuse=function(e,t,o,c){this.bulletFactory=e,this.moveSpeed=o,this.tag=c,this.moveDir=t},t.prototype.unuse=function(){},t.prototype.onCollisionEnter=function(e,t){},t.prototype.update=function(e){0!==this.moveSpeed&&(0!==this.moveDir.x&&(this.node.x+=this.moveDir.x*this.moveSpeed*e),0!==this.moveDir.y&&(this.node.y+=this.moveDir.y*this.moveSpeed*e),(Math.abs(this.node.x)>360||Math.abs(this.node.y)>640)&&this.bulletFactory.bulletPools[this.tag].put(this.node))},t=__decorate([r],t)}(cc.Component));o.BulletBase=i,cc._RF.pop()},{}],bulletFactory:[function(e,t,o){"use strict";cc._RF.push(t,"07380uikSlEb7kTlYWa/2h3","bulletFactory"),Object.defineProperty(o,"__esModule",{value:!0});var c,r=e("./bullet_0"),i=e("./bullet_1"),l=e("./bullet_2"),n=e("./bullet_3"),s=cc._decorator,u=s.ccclass,a=s.property;(function(e){e[e.R=0]="R",e[e.M=1]="M",e[e.F=2]="F",e[e.B=3]="B"})(c=o.BulletType||(o.BulletType={}));var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bulletPrefab=[],t.bulletPools=[],t}return __extends(t,e),t.prototype.onLoad=function(){this.bulletPools[c.R]=new cc.NodePool(r.Bullet_0),this.bulletPools[c.M]=new cc.NodePool(i.Bullet_1),this.bulletPools[c.F]=new cc.NodePool(l.Bullet_2),this.bulletPools[c.B]=new cc.NodePool(n.Bullet_3),this.putBulletInPool(c.R,300),this.putBulletInPool(c.M,200),this.putBulletInPool(c.F,100),this.putBulletInPool(c.B,50)},t.prototype.putBulletInPool=function(e,t){for(var o=0;o<t;o++)this.bulletPools[e].put(cc.instantiate(this.bulletPrefab[e]))},t.prototype.createBullet=function(e,t,o){var c;return this.bulletPools[e].size()<=0&&this.bulletPools[e].put(cc.instantiate(this.bulletPrefab[e])),c=this.bulletPools[e].get(this,t,o,e),this.node.addChild(c),c},__decorate([a({type:[cc.Prefab],tooltip:"\u5b50\u5f39\u9884\u5236\u4f53"})],t.prototype,"bulletPrefab",void 0),t=__decorate([u],t)}(cc.Component);o.default=p,cc._RF.pop()},{"./bullet_0":"bullet_0","./bullet_1":"bullet_1","./bullet_2":"bullet_2","./bullet_3":"bullet_3"}],bullet_0:[function(e,t,o){"use strict";cc._RF.push(t,"2fd46PBiUdIc6ji0RsIzHl3","bullet_0"),Object.defineProperty(o,"__esModule",{value:!0});var c=e("./bulletBase"),r=cc._decorator,i=r.ccclass,l=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t=__decorate([i],t)}(c.BulletBase));o.Bullet_0=l,cc._RF.pop()},{"./bulletBase":"bulletBase"}],bullet_1:[function(e,t,o){"use strict";cc._RF.push(t,"abf70K7oktPNL/9tXR78dt6","bullet_1"),Object.defineProperty(o,"__esModule",{value:!0});var c=e("./bulletBase"),r=cc._decorator,i=r.ccclass,l=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t=__decorate([i],t)}(c.BulletBase));o.Bullet_1=l,cc._RF.pop()},{"./bulletBase":"bulletBase"}],bullet_2:[function(e,t,o){"use strict";cc._RF.push(t,"4b3e97Lub9JQK2k96ZfczJr","bullet_2"),Object.defineProperty(o,"__esModule",{value:!0});var c=e("./bulletBase"),r=cc._decorator,i=r.ccclass,l=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.update=function(t){e.prototype.update.call(this,t),this.node.angle+=50*t},t=__decorate([i],t)}(c.BulletBase));o.Bullet_2=l,cc._RF.pop()},{"./bulletBase":"bulletBase"}],bullet_3:[function(e,t,o){"use strict";cc._RF.push(t,"05acdCbX+BGVYm8DF4lebeq","bullet_3"),Object.defineProperty(o,"__esModule",{value:!0});var c=e("./bulletBase"),r=cc._decorator,i=r.ccclass,l=(r.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.scaleDir=1,t}return __extends(t,e),t.prototype.update=function(t){e.prototype.update.call(this,t),this.node.scaleX>1.3?this.scaleDir=-1:this.node.scaleX<1&&(this.scaleDir=1),this.node.scale+=5*this.scaleDir*t},t=__decorate([i],t)}(c.BulletBase));o.Bullet_3=l,cc._RF.pop()},{"./bulletBase":"bulletBase"}],colliderPlayer:[function(e,t,o){"use strict";cc._RF.push(t,"446b9RzJvtMIII1w6i++vno","colliderPlayer"),Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,r=c.ccclass,i=(c.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onLoad=function(){cc.director.getCollisionManager().enabled=!0},t.prototype.onCollisionEnter=function(e,t){cc.audioEngine.stopMusic(),cc.director.loadScene("over")},t=__decorate([r],t)}(cc.Component));o.default=i,cc._RF.pop()},{}],moveEnemy:[function(e,t,o){"use strict";cc._RF.push(t,"44c16rIXfxIPJYQtkNeln29","moveEnemy"),Object.defineProperty(o,"__esModule",{value:!0});var c=e("../../util"),r=cc._decorator,i=r.ccclass,l=(r.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dir=new cc.Vec2(0,0),t.speed=200,t.timerEnd=0,t}return __extends(t,e),t.prototype.start=function(){this.schedule(this.randomDir,5,cc.macro.REPEAT_FOREVER,4)},t.prototype.randomDir=function(){var e=c.Util.randomDir(0,360);this.dir.x=e.x,this.dir.y=e.y},t.prototype.update=function(e){if(this.timerEnd+=e,this.timerEnd>=100)return cc.director.loadScene("over2"),void(this.timerEnd=0);0!==this.dir.x&&(this.node.x+=this.speed*this.dir.x*e),0!==this.dir.y&&(this.node.y+=this.speed*this.dir.y*e),this.node.x<-300&&(this.dir.x=this.dir.x>0?this.dir.x:-this.dir.x),this.node.x>300&&(this.dir.x=this.dir.x<0?this.dir.x:-this.dir.x),this.node.y>580&&(this.dir.y=this.dir.y<0?this.dir.y:-this.dir.y),this.node.y<400&&(this.dir.y=this.dir.y>0?this.dir.y:-this.dir.y)},t=__decorate([i],t)}(cc.Component));o.default=l,cc._RF.pop()},{"../../util":"util"}],movePlayer:[function(e,t,o){"use strict";cc._RF.push(t,"b9f3eMVcjhEOb2eVFV6A8MJ","movePlayer"),Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,r=c.ccclass,i=c.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.player=void 0,t.player2=void 0,t}return __extends(t,e),t.prototype.start=function(){this.openTouch()},t.prototype.openTouch=function(){this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this)},t.prototype.closeTouch=function(){this.node.off(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this)},t.prototype.onTouchMove=function(e){var t=e.getDelta();this.player.x+=t.x,this.player.y+=t.y},t.prototype.update=function(e){this.player.x>360&&(this.player.x=360),this.player.x<-360&&(this.player.x=-360),this.player.y>640&&(this.player.y=640),this.player.y<-640&&(this.player.y=-640),this.player2.setPosition(this.player2.position.lerp(this.player.position,10*e))},__decorate([i(cc.Node)],t.prototype,"player",void 0),__decorate([i(cc.Node)],t.prototype,"player2",void 0),t=__decorate([r],t)}(cc.Component);o.default=l,cc._RF.pop()},{}],musicManager:[function(e,t,o){"use strict";cc._RF.push(t,"75e36+btQZBd6Gt7J5SKB2d","musicManager"),Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,r=c.ccclass,i=c.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bgm=void 0,t}return __extends(t,e),t.prototype.start=function(){var e=this;this.scheduleOnce(function(){cc.audioEngine.playMusic(e.bgm,!0)},.5)},__decorate([i({type:cc.AudioClip})],t.prototype,"bgm",void 0),t=__decorate([r],t)}(cc.Component);o.default=l,cc._RF.pop()},{}],overManager:[function(e,t,o){"use strict";cc._RF.push(t,"8e8feBC41FEFbZ4JuNzcCcM","overManager"),Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,r=c.ccclass,i=c.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lab=void 0,t}return __extends(t,e),t.prototype.again=function(){cc.director.loadScene("game")},t.prototype.onLoad=function(){if("over2"==cc.director.getScene().name){this.lab.scale=0;var e=cc.scaleTo(1,2,2).easing(cc.easeBackOut()),t=cc.rotateTo(.5,40).easing(cc.easeBackOut()),o=cc.rotateTo(.5,0).easing(cc.easeBackOut());this.lab.runAction(cc.sequence(e,t,o))}},__decorate([i(cc.Node)],t.prototype,"lab",void 0),t=__decorate([r],t)}(cc.Component);o.default=l,cc._RF.pop()},{}],shootManager:[function(e,t,o){"use strict";cc._RF.push(t,"09f92RTbttM3Ko/zaVu43he","shootManager"),Object.defineProperty(o,"__esModule",{value:!0});var c=e("../bullet/bulletFactory"),r=e("../../util"),i=cc._decorator,l=i.ccclass,n=i.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bulletFactory=void 0,t.enemy=void 0,t.typeMBulletAngle=0,t}return __extends(t,e),t.prototype.start=function(){var e=this;this.schedule(function(){return e.shoot(c.BulletType.R)},.02,cc.macro.REPEAT_FOREVER,4),this.schedule(function(){return e.shoot(c.BulletType.M)},.06,cc.macro.REPEAT_FOREVER,9),this.schedule(function(){return e.shoot(c.BulletType.F)},.4,cc.macro.REPEAT_FOREVER,14),this.schedule(function(){return e.shoot(c.BulletType.R)},.02,cc.macro.REPEAT_FOREVER,19),this.schedule(function(){return e.shoot(c.BulletType.B)},.5,cc.macro.REPEAT_FOREVER,24),this.schedule(function(){return e.shoot(c.BulletType.M)},.06,cc.macro.REPEAT_FOREVER,29),this.schedule(function(){return e.shoot(c.BulletType.R)},.02,cc.macro.REPEAT_FOREVER,34),this.schedule(function(){return e.shoot(c.BulletType.F)},.4,cc.macro.REPEAT_FOREVER,39)},t.prototype.shoot=function(e){if(e===c.BulletType.R)(i=this.bulletFactory.createBullet(c.BulletType.R,r.Util.randomDir(0,360),800)).setPosition(this.enemy.x,this.enemy.y);else if(e===c.BulletType.M){this.typeMBulletAngle+=30,this.typeMBulletAngle>=360&&(this.typeMBulletAngle=0);var t=cc.misc.degreesToRadians(this.typeMBulletAngle);(i=this.bulletFactory.createBullet(c.BulletType.M,cc.v2(Math.cos(t),Math.sin(t)),650)).angle=this.typeMBulletAngle+90,i.setPosition(this.enemy.x,this.enemy.y)}else if(e===c.BulletType.F)for(var o=0;o<=360;o+=30){t=cc.misc.degreesToRadians(o);(i=this.bulletFactory.createBullet(c.BulletType.F,cc.v2(Math.cos(t),Math.sin(t)),600)).setPosition(this.enemy.x,this.enemy.y)}else if(e===c.BulletType.B){var i;(i=this.bulletFactory.createBullet(c.BulletType.B,cc.v2(0,-1),550)).setPosition(this.enemy.x,this.enemy.y)}},__decorate([n({type:c.default})],t.prototype,"bulletFactory",void 0),__decorate([n({type:cc.Node})],t.prototype,"enemy",void 0),t=__decorate([l],t)}(cc.Component);o.default=s,cc._RF.pop()},{"../../util":"util","../bullet/bulletFactory":"bulletFactory"}],showTime:[function(e,t,o){"use strict";cc._RF.push(t,"27748HNsMZAVp9/xdiGyun9","showTime"),Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,r=c.ccclass,i=(c.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=void 0,t.time=3.99,t}return __extends(t,e),t.prototype.onLoad=function(){this.label=this.node.getComponent(cc.Label)},t.prototype.update=function(e){if(!(this.time<-1)){this.time-=e;var t=Math.floor(this.time);this.label.string=t>0?t+"":0===t?"Go":""}},t=__decorate([r],t)}(cc.Component));o.default=i,cc._RF.pop()},{}],util:[function(e,t,o){"use strict";cc._RF.push(t,"4b76dIlS9dAjLYofDXCljLd","util"),Object.defineProperty(o,"__esModule",{value:!0});var c=function(){function e(){}return e.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(this.isDebug)for(var o=0,c=e;o<c.length;o++){var r=c[o];console.log(r)}},e.randomNumber=function(e,t){return e+Math.random()*(t-e)},e.randomDir=function(e,t){var o=this.randomNumber(e,t),c=cc.misc.degreesToRadians(o);return cc.v2(Math.cos(c),Math.sin(c))},e.isDebug=!0,e}();o.Util=c,cc._RF.pop()},{}]},{},["moveEnemy","shootManager","bulletBase","bulletFactory","bullet_0","bullet_1","bullet_2","bullet_3","musicManager","colliderPlayer","movePlayer","showTime","ShaderTime","overManager","util"]);